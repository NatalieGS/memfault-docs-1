---
title: Device Attributes
---

You can store custom attributes for each of your devices.

:::info Attributes and Metrics

Any metric that a device reports through the Metric SDK automatically populates
an updatable device attribute with its latest reading. For example, sending
`battery_pct` as a metric will populate a `battery_pct` attribute on the device
with the last known battery level read from the device. As such, you can
configure both metrics and attributes via the Metrics section of the Project
Settings page.

:::

## Defining an Attribute

An attribute is defined the first time you write it. You can view all defined
properties going to **Project Settings** and then **Metrics**. An attribute
definition can have a few properties:

- A `string_key` which devices and APIs can use to identify the attribute.
- Whether the data type is an `INT` (default), `FLOAT`, `BOOL`, or `STRING`.
- Whether or not the value is `updatable` (or write-once).
- Whether it is a `favorite` attribute, which will cause it to appear more
  prominently in a few places in the web app.
- The value `range` which informs charts and other components.
- A set of `ignored_values` (like `-1`) which should be ignored.

![Example of some attribute definitions](/img/blog/2021-08-17-device-properties-settings.png)

## Viewing an Attribute

There are two ways to view Attributes for a device:

1. using the web application
2. using the REST API

### Using the web application

Find the device you want to view the attributes for (for example by browsing
your devices on the **Devices** page) and select the **Attributes** tab. You'll
see all the properties known for this project and the respective value for the
device you're currently looking at.

### Using the REST API

Below is an example of how attributes can be read using the Project Key and the
REST API:

:::note

Be sure to replace `${MEMFAULT_ORG_TOKEN}` with an
[Organization Auth Token](/docs/ci/authentication#organization-auth-token) and
`${ORG_SLUG}` / `${PROJECT_SLUG}` / `${DEVICE_SERIAL}` if re-using the example
below.

:::

```bash
curl --user ":${MEMFAULT_ORG_TOKEN}" --location --request GET \
'https://api.memfault.com/api/v0/organizations/${ORG_SLUG}/projects/${PROJECT_SLUG}/devices/${DEVICE_SERIAL}/attributes'
```

The response will be JSON-encoded data, example below:

```json
{
  "data": [
    {
      "custom_metric": {
        "data_type": "INT",
        "description": "",
        "display_name": "",
        "favorite": false,
        "id": "5e8b5af5-c686-43a7-8ba4-7878f7f9105e",
        "ignored_values": [],
        "range": {
          "max": null,
          "min": null
        },
        "string_key": "TimerTaskCpuUsage",
        "updatable": true
      },
      "state": {
        "created_date": "2021-09-20T13:25:37.517191+00:00",
        "time": "2021-09-20T14:15:17.586209+00:00",
        "updated_date": "2021-09-20T14:15:17.611765+00:00",
        "value": 679
      }
    },
    ...
  ]
}
```

You can select individual metric values by appending a URL query parameter:

```bash
https://api.memfault.com/api/v0/organizations/${ORG_SLUG}/projects/${PROJECT_SLUG}/devices/${DEVICE_SERIAL}/attributes?q=TimerTaskCpuUsage`
```

Only metrics with matching `string_key` will be returned (wildcard `*`
supported).

## Setting an Attribute

There are three ways to write an attribute.

1. using the [Metrics API](/docs/mcu/metrics-api),
2. using the REST API
3. using the web application.

:::note

Because devices can update attributes, anyone who holds your **Project Key** can
write or overwrite these attributes (**unless** the attribute is set to
non-`updatable`; writes from all sources to such metrics are ignored)

:::

### Using the REST API

Below is an example of how attributes can be set using the Project Key and the
REST API:

:::note

Be sure to replace `${DEVICE_SERIAL}` and `${MEMFAULT_PROJECT_KEY}` below with
the device you want to update and your
[Project Key](/docs/ci/authentication#project-key), respectively.

:::

```bash
curl --location --request PATCH \
"https://device.memfault.com/api/v0/attributes?device_serial=${DEVICE_SERIAL}" \
--header "Content-Type: application/json" \
--header "Memfault-Project-Key: ${MEMFAULT_PROJECT_KEY}" \
--data-raw '
[
  {"string_key": "ProductName", "value": "SmartWatch"},
  {"string_key": "ModelColor", "value": "Blue"}
]
'
```

### Using the Web Application

Visit the respective device page as described in
[Viewing an Attribute](#viewing-an-attribute). Click on the _pencil icon_ next
to the value, enter the new value, and finally **Save** it.

<p align="center">
  <img
    src="/img/blog/2021-08-17-device-properties-edit.png"
    alt="Example of editing an attribute via the web application"
  />
</p>

## Searching by Attribute

You can search devices by attributes. Visiting the **Devices** page, open the
**Filter** panel and select the **Custom Metric** you want to search by.

<p align="center">
  <img
    src="/img/blog/2021-08-17-device-properties-filter.png"
    alt="Example of filtering by an attribute"
  />
</p>

You can search by multiple attributes using the _plus icon_.

:::note Searching by Attribute vs Metric Readings

If you select a **During** time frame, devices will be searched by their metric
readings during that time frame, not by their device attributes (the latest
reported metric).

:::
